# ============================================
# LUZIMARKET ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env.local and fill in your values
# Never commit .env.local to version control!

# ============================================
# DATABASE
# ============================================
# PostgreSQL connection string from Neon or local instance
# Neon format: postgresql://user:pass@ep-xxx.region.neon.tech/dbname?sslmode=require
# Local format: postgresql://user:pass@localhost:5432/dbname
DATABASE_URL="postgresql://user:pass@host:5432/luzimarket"

# ============================================
# AUTHENTICATION
# ============================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-nextauth-secret-minimum-32-characters"
NEXTAUTH_URL="http://localhost:3000"

# Auth.js also needs this (same value as NEXTAUTH_SECRET)
AUTH_SECRET="your-nextauth-secret-minimum-32-characters"

# ============================================
# STRIPE PAYMENTS
# ============================================
# Get from: https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_ and pk_test_) for development
STRIPE_SECRET_KEY="sk_test_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Webhook secret from: https://dashboard.stripe.com/webhooks
# For local dev, get from Stripe CLI: stripe listen --print-secret
STRIPE_WEBHOOK_SECRET="whsec_..."

# ============================================
# EMAIL (RESEND)
# ============================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY="re_..."

# Must be a verified domain in Resend
# Format: "Name <email@domain.com>" or "email@domain.com"
EMAIL_FROM="Luzimarket <noreply@yourdomain.com>"

# Set to "false" to disable email sending in development
SEND_EMAILS="true"

# ============================================
# FILE STORAGE (VERCEL BLOB)
# ============================================
# Get from: https://vercel.com/dashboard/stores
# Or generate in Vercel project settings
BLOB_READ_WRITE_TOKEN="vercel_blob_rw_..."

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Your application URL (include protocol)
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Node environment
NODE_ENV="development"

# ============================================
# BUSINESS CONFIGURATION (Optional)
# ============================================
# Default values shown - override as needed

# Tax rate (IVA in Mexico = 0.16 or 16%)
TAX_RATE="0.16"
TAX_NAME="IVA"

# Platform commission rate (percentage as decimal)
PLATFORM_COMMISSION_RATE="0.15"

# Shipping configuration (in MXN)
DEFAULT_SHIPPING_COST="99"
FREE_SHIPPING_THRESHOLD="1000"

# Image approval workflow (set to "true" to test moderation)
# In production (NODE_ENV=production), approval is enforced by default
ENABLE_IMAGE_APPROVAL="false"

# Social media links
SOCIAL_INSTAGRAM_URL="https://instagram.com/luzimarket"
SOCIAL_FACEBOOK_URL="https://facebook.com/luzimarket"
SOCIAL_TIKTOK_URL="https://tiktok.com/@luzimarket"
SOCIAL_TWITTER_URL="https://twitter.com/luzimarket"

# ============================================
# OPTIONAL FEATURES
# ============================================

# OpenAI API key (for AI-powered features like seed data generation)
# Get from: https://platform.openai.com/api-keys
OPENAI_SECRET_KEY="sk-..."

# Admin notification email
ADMIN_EMAIL="admin@yourdomain.com"

# ============================================
# DOCKER/TESTING CONFIGURATION (Optional)
# ============================================
# Only needed if running E2E tests with Docker
# These should match your Neon database or local PostgreSQL

NEON_DATABASE_USERNAME="neondb_owner"
NEON_DATABASE_PASSWORD="your-password"
NEON_DATABASE_NAME="neondb"
NEON_DATABASE_HOST="ep-xxx.region.neon.tech"

# ============================================
# DEVELOPMENT TOOLS (Optional)
# ============================================

# Port for dev server (default: 3000)
# PORT=3000

# Enable Next.js turbopack (faster builds)
# Already enabled in package.json dev script

# Database connection pool size
# Adjust based on your usage
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10

# ============================================
# NOTES
# ============================================
# 1. Never commit this file with real values to git
# 2. For production, set these in Vercel dashboard
# 3. For local development, copy to .env.local
# 4. Restart dev server after changing values
# 5. Some values are prefixed with NEXT_PUBLIC_ and are exposed to the browser
# 6. Stripe test mode is safe - use real keys only in production

CRON_SECRET=<generate-with-openssl-rand-base64-32>